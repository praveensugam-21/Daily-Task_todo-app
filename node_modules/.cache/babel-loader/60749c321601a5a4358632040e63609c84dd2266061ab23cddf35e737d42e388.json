{"ast":null,"code":"import React,{useState}from\"react\";import{History,ChevronDown,ChevronUp,CheckCircle2,Circle}from\"lucide-react\";import clsx from\"clsx\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskHistory=_ref=>{let{tasks}=_ref;const[isExpanded,setIsExpanded]=useState(false);// Group tasks by date\nconst groupedTasks=tasks.reduce((groups,task)=>{const date=task.date;if(!groups[date]){groups[date]=[];}groups[date].push(task);return groups;},{});// Sort dates in descending order\nconst sortedDates=Object.keys(groupedTasks).sort((a,b)=>new Date(b)-new Date(a));const formatDate=dateString=>{const date=new Date(dateString);const today=new Date();const yesterday=new Date(today);yesterday.setDate(yesterday.getDate()-1);if(date.toDateString()===today.toDateString()){return\"Today\";}else if(date.toDateString()===yesterday.toDateString()){return\"Yesterday\";}else{return date.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"short\",day:\"numeric\"});}};const getCompletionRate=taskList=>{const completed=taskList.filter(task=>task.completed).length;return Math.round(completed/taskList.length*100);};if(tasks.length===0){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsExpanded(!isExpanded),className:\"flex items-center justify-between w-full text-left mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(History,{className:\"w-5 h-5 mr-2 text-primary-600\"}),\"Task History\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[tasks.length,\" total tasks\"]}),isExpanded?/*#__PURE__*/_jsx(ChevronUp,{className:\"w-5 h-5 text-gray-400\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 text-gray-400\"})]})]}),isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sortedDates.map(date=>{const dateTasks=groupedTasks[date];const completionRate=getCompletionRate(dateTasks);return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:formatDate(date)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[dateTasks.filter(t=>t.completed).length,\"/\",dateTasks.length,\" completed\"]}),/*#__PURE__*/_jsxs(\"div\",{className:clsx(\"px-2 py-1 rounded-full text-xs font-medium\",completionRate===100?\"bg-success-100 text-success-800\":completionRate>=70?\"bg-warning-100 text-warning-800\":\"bg-gray-100 text-gray-800\"),children:[completionRate,\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:dateTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:clsx(\"flex items-center space-x-3 p-2 rounded\",task.completed?\"bg-green-50\":\"bg-gray-50\"),children:[task.completed?/*#__PURE__*/_jsx(CheckCircle2,{className:\"w-4 h-4 text-success-600 flex-shrink-0\"}):/*#__PURE__*/_jsx(Circle,{className:\"w-4 h-4 text-gray-400 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:clsx(\"text-sm\",task.completed?\"text-gray-500 line-through\":\"text-gray-700\"),children:task.text})]},task.id))})]},date);})})]});};export default TaskHistory;","map":{"version":3,"names":["React","useState","History","ChevronDown","ChevronUp","CheckCircle2","Circle","clsx","jsx","_jsx","jsxs","_jsxs","TaskHistory","_ref","tasks","isExpanded","setIsExpanded","groupedTasks","reduce","groups","task","date","push","sortedDates","Object","keys","sort","a","b","Date","formatDate","dateString","today","yesterday","setDate","getDate","toDateString","toLocaleDateString","weekday","month","day","getCompletionRate","taskList","completed","filter","length","Math","round","className","children","onClick","map","dateTasks","completionRate","t","text","id"],"sources":["E:/Infogerm/src/components/TaskHistory.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  History,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  CheckCircle2,\r\n  Circle,\r\n} from \"lucide-react\";\r\nimport clsx from \"clsx\";\r\n\r\nconst TaskHistory = ({ tasks }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  // Group tasks by date\r\n  const groupedTasks = tasks.reduce((groups, task) => {\r\n    const date = task.date;\r\n    if (!groups[date]) {\r\n      groups[date] = [];\r\n    }\r\n    groups[date].push(task);\r\n    return groups;\r\n  }, {});\r\n\r\n  // Sort dates in descending order\r\n  const sortedDates = Object.keys(groupedTasks).sort(\r\n    (a, b) => new Date(b) - new Date(a)\r\n  );\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const today = new Date();\r\n    const yesterday = new Date(today);\r\n    yesterday.setDate(yesterday.getDate() - 1);\r\n\r\n    if (date.toDateString() === today.toDateString()) {\r\n      return \"Today\";\r\n    } else if (date.toDateString() === yesterday.toDateString()) {\r\n      return \"Yesterday\";\r\n    } else {\r\n      return date.toLocaleDateString(\"en-US\", {\r\n        weekday: \"long\",\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const getCompletionRate = (taskList) => {\r\n    const completed = taskList.filter((task) => task.completed).length;\r\n    return Math.round((completed / taskList.length) * 100);\r\n  };\r\n\r\n  if (tasks.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <button\r\n        onClick={() => setIsExpanded(!isExpanded)}\r\n        className=\"flex items-center justify-between w-full text-left mb-4\"\r\n      >\r\n        <h2 className=\"text-xl font-semibold text-gray-900 flex items-center\">\r\n          <History className=\"w-5 h-5 mr-2 text-primary-600\" />\r\n          Task History\r\n        </h2>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <span className=\"text-sm text-gray-500\">\r\n            {tasks.length} total tasks\r\n          </span>\r\n          {isExpanded ? (\r\n            <ChevronUp className=\"w-5 h-5 text-gray-400\" />\r\n          ) : (\r\n            <ChevronDown className=\"w-5 h-5 text-gray-400\" />\r\n          )}\r\n        </div>\r\n      </button>\r\n\r\n      {isExpanded && (\r\n        <div className=\"space-y-4\">\r\n          {sortedDates.map((date) => {\r\n            const dateTasks = groupedTasks[date];\r\n            const completionRate = getCompletionRate(dateTasks);\r\n\r\n            return (\r\n              <div key={date} className=\"border border-gray-200 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <h3 className=\"font-medium text-gray-900\">\r\n                    {formatDate(date)}\r\n                  </h3>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"text-sm text-gray-500\">\r\n                      {dateTasks.filter((t) => t.completed).length}/\r\n                      {dateTasks.length} completed\r\n                    </div>\r\n                    <div\r\n                      className={clsx(\r\n                        \"px-2 py-1 rounded-full text-xs font-medium\",\r\n                        completionRate === 100\r\n                          ? \"bg-success-100 text-success-800\"\r\n                          : completionRate >= 70\r\n                          ? \"bg-warning-100 text-warning-800\"\r\n                          : \"bg-gray-100 text-gray-800\"\r\n                      )}\r\n                    >\r\n                      {completionRate}%\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  {dateTasks.map((task) => (\r\n                    <div\r\n                      key={task.id}\r\n                      className={clsx(\r\n                        \"flex items-center space-x-3 p-2 rounded\",\r\n                        task.completed ? \"bg-green-50\" : \"bg-gray-50\"\r\n                      )}\r\n                    >\r\n                      {task.completed ? (\r\n                        <CheckCircle2 className=\"w-4 h-4 text-success-600 flex-shrink-0\" />\r\n                      ) : (\r\n                        <Circle className=\"w-4 h-4 text-gray-400 flex-shrink-0\" />\r\n                      )}\r\n                      <span\r\n                        className={clsx(\r\n                          \"text-sm\",\r\n                          task.completed\r\n                            ? \"text-gray-500 line-through\"\r\n                            : \"text-gray-700\"\r\n                        )}\r\n                      >\r\n                        {task.text}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}